# 6.3 미들웨어
## 6.3.1 커스텀 미들웨어
미들웨어는 요청과 응답을 조작하여 기능을 추가하기도 하고, 나쁜 요청을 걸러내기도 한다. 

`app.use()`의 인자로 들어 있는 함수가 미들웨어이다. 미들웨어는 순차적으로 거치고 라우터에서 클라이언트로 응답을 보낸다.

미들웨어 안에서는 반드시 `next()`를 호출해야 다음 미들웨어로 넘어간다. 
`next(route)` 할 경우, 다음 라우터로 넘어간다. 
`next(error)` 할 경우, 에러 핸들러로 넘어간다.

하나의 `use`에 미들웨어를 여러 개 장착할 수 있고, 이는 순차적으로 수행된다.

## 6.3.2 morgan
요청에 대한 정보를 콘솔에 기록해준다.
콘솔뿐만 아니라 파일이나 데이터베이스에 로그를 남길 수도 있다. 
하지만 이러한 작업은 `winston` 모듈을 더 많이 사용한다.

## 6.3.3 body-parser
요청의 본문을 해석해주는 미들웨어이다. 폼 데이터나 AJAX 요청의 데이터를 처리한다.

